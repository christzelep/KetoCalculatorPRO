<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Planet Diet Keto Calculator PRO - Προηγμένη διαχείριση κετογονικής διατροφής">
    <meta name="theme-color" content="#4CAF50">
    <title>Planet Diet | Keto Calculator PRO</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.css">
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #FF9800;
            --accent: #9C27B0;
            --dark: #2E7D32;
            --light: #C8E6C9;
            --text: #333333;
            --background: #f8fff8;
            --card: #ffffff;
            --pro: #FF5722;
            --water: #2196F3;
            --fasting: #9C27B0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(232, 245, 233, 0.8) 0%, rgba(200, 230, 201, 0.6) 100%),
                linear-gradient(to bottom, #f8fff8, #e6ffe6);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, var(--primary), var(--dark));
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
            border: 3px solid #FFEB3B;
        }

        header::before {
            content: "PRO VERSION";
            position: absolute;
            top: 10px;
            right: -30px;
            background: var(--pro);
            color: white;
            padding: 5px 30px;
            transform: rotate(45deg);
            font-weight: bold;
            font-size: 0.9rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        header p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .logo {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #FFEB3B;
        }

        .app-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
        }

        @media (min-width: 768px) {
            .app-container {
                grid-template-columns: 1fr 1fr;
            }
        }

        .calculator-card {
            background: var(--card);
            border-radius: 20px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
            border: 2px solid var(--primary);
        }

        .calculator-card:hover {
            transform: translateY(-5px);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }

        .card-header i {
            font-size: 1.8rem;
            margin-right: 15px;
            background: linear-gradient(to right, var(--primary), var(--dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .card-header h2 {
            font-size: 1.8rem;
        }

        .input-group {
            margin-bottom: 1.5rem;
        }

        .input-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }

        .input-group input, 
        .input-group select,
        .input-group textarea {
            width: 100%;
            padding: 14px;
            border: 2px solid var(--light);
            border-radius: 12px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .input-group input:focus, 
        .input-group select:focus,
        .input-group textarea:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }

        .btn {
            background: linear-gradient(to right, var(--primary), var(--dark));
            color: white;
            border: none;
            padding: 14px 25px;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .btn i {
            font-size: 1.2rem;
        }

        .btn-secondary {
            background: linear-gradient(to right, var(--secondary), #F57C00);
        }

        .btn-water {
            background: linear-gradient(to right, var(--water), #0D47A1);
        }

        .btn-fasting {
            background: linear-gradient(to right, var(--fasting), #6A1B9A);
        }

        .food-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 15px;
            margin: 1.5rem 0;
        }

        .food-item {
            background: white;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid var(--light);
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .food-item:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }

        .food-item i {
            font-size: 2rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .food-item span {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .result-box {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            margin-top: 20px;
            box-shadow: 0 8px 25px rgba(46, 125, 50, 0.3);
        }

        .result-value {
            font-size: 2.5rem;
            font-weight: 700;
            margin: 15px 0;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .result-label {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        /* PRO Features */
        .pro-features {
            margin: 3rem 0;
        }

        .pro-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .pro-header h2 {
            font-size: 2.2rem;
            color: var(--dark);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .pro-badge {
            background: linear-gradient(45deg, var(--pro), #FF9800);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 1.2rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .feature-card-pro {
            background: var(--card);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border-top: 4px solid var(--pro);
            display: flex;
            flex-direction: column;
        }

        .feature-card-pro:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.12);
        }

        .feature-icon {
            font-size: 2.8rem;
            margin-bottom: 20px;
            text-align: center;
            background: linear-gradient(45deg, var(--pro), #FF9800);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .feature-card-pro h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--dark);
            text-align: center;
        }

        .feature-card-pro ul {
            margin: 15px 0;
            padding-left: 20px;
            flex-grow: 1;
        }

        .feature-card-pro li {
            margin-bottom: 10px;
            position: relative;
        }

        .feature-card-pro li:before {
            content: "✓";
            color: var(--primary);
            font-weight: bold;
            margin-right: 10px;
        }

        /* Recipe Section */
        .recipe-section {
            margin: 3rem 0;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .section-header i {
            font-size: 2rem;
            margin-right: 15px;
            color: var(--pro);
        }

        .section-header h2 {
            font-size: 1.8rem;
            color: var(--dark);
        }

        .recipe-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
        }

        .recipe-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border: 1px solid #e0e0e0;
            cursor: pointer;
        }

        .recipe-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.12);
        }

        .recipe-image {
            height: 180px;
            background: linear-gradient(45deg, #7CB342, #4CAF50);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 4rem;
        }

        .recipe-content {
            padding: 20px;
        }

        .recipe-content h3 {
            margin-bottom: 10px;
            color: var(--dark);
        }

        .recipe-meta {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .recipe-content p {
            margin-bottom: 15px;
            color: #555;
        }

        .recipe-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 15px;
        }

        .recipe-tag {
            background: #E8F5E9;
            color: var(--dark);
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
        }

        /* Progress Tracking */
        .progress-section {
            margin: 3rem 0;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .progress-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
        }

        .progress-card {
            background: #F1F8E9;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
        }

        .progress-card h3 {
            margin-bottom: 15px;
            color: var(--dark);
        }

        .progress-bar {
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin: 20px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--dark));
            border-radius: 10px;
        }

        .progress-data {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            animation: modalOpen 0.4s ease;
        }

        @keyframes modalOpen {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-header {
            background: linear-gradient(to right, var(--primary), var(--dark));
            color: white;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h2 {
            font-size: 1.8rem;
        }

        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            transition: transform 0.3s;
        }

        .close-modal:hover {
            transform: rotate(90deg);
        }

        .modal-body {
            padding: 25px;
        }

        .modal-image {
            height: 300px;
            background: linear-gradient(45deg, #7CB342, #4CAF50);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 6rem;
            margin-bottom: 20px;
            border-radius: 15px;
        }

        .modal-ingredients, .modal-instructions {
            margin-bottom: 25px;
        }

        .modal-ingredients h3, .modal-instructions h3 {
            color: var(--dark);
            margin-bottom: 15px;
            font-size: 1.4rem;
        }

        .modal-ingredients ul, .modal-instructions ol {
            padding-left: 25px;
            margin-bottom: 15px;
        }

        .modal-ingredients li, .modal-instructions li {
            margin-bottom: 10px;
            line-height: 1.6;
        }

        .modal-nutrition {
            background: #F1F8E9;
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
        }

        .modal-nutrition h3 {
            color: var(--dark);
            margin-bottom: 15px;
            text-align: center;
        }

        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
        }

        .nutrition-item {
            text-align: center;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }

        .nutrition-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--dark);
        }

        .nutrition-label {
            font-size: 0.9rem;
            color: #666;
        }

        /* Install App Section */
        .install-section {
            background: linear-gradient(135deg, var(--accent), #7B1FA2);
            color: white;
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin: 3rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .install-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .install-icon {
            font-size: 4rem;
            margin-bottom: 20px;
            color: #FFEB3B;
        }

        .install-content h2 {
            font-size: 2.2rem;
            margin-bottom: 20px;
        }

        .install-content p {
            font-size: 1.2rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        /* Fasting Tracker */
        .fasting-container {
            background: linear-gradient(135deg, var(--fasting), #6A1B9A);
            color: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            margin-top: 25px;
        }

        .fasting-display {
            font-size: 3rem;
            font-weight: bold;
            margin: 20px 0;
            font-family: monospace;
        }

        .fasting-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        /* Hydration Tracker */
        .hydration-container {
            background: linear-gradient(135deg, var(--water), #0D47A1);
            color: white;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            margin-top: 25px;
        }

        .water-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
        }

        .water-btn {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid white;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .water-btn:hover {
            background: rgba(255, 255, 255, 0.4);
            transform: scale(1.1);
        }

        /* Recipe Generator */
        .recipe-generator {
            background: var(--card);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            margin: 3rem 0;
        }

        .ingredient-input {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .ingredient-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--light);
            border-radius: 12px;
        }

        .ingredient-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .ingredient-tag {
            background: #E8F5E9;
            color: var(--dark);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .ingredient-tag i {
            cursor: pointer;
        }

        .suggested-recipes {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        /* Chart container */
        .chart-container {
            height: 300px;
            margin-top: 20px;
        }

        /* Progress Form */
        .progress-form {
            margin-top: 20px;
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .form-row .input-group {
            flex: 1;
            margin-bottom: 0;
        }

        .progress-history {
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            padding: 15px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .history-item {
            padding: 10px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
        }

        .history-item:last-child {
            border-bottom: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
            }
            
            .app-container {
                grid-template-columns: 1fr;
            }
            
            .ingredient-input {
                flex-direction: column;
            }
            
            .form-row {
                flex-direction: column;
                gap: 10px;
            }
        }

        /* Animations */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 0.5s ease-in-out;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }
        
        .floating {
            animation: float 3s ease-in-out infinite;
        }
        
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--primary);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 1000;
            animation: toastIn 0.3s, toastOut 0.3s 2.7s;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        @keyframes toastIn {
            from { bottom: -50px; opacity: 0; }
            to { bottom: 20px; opacity: 1; }
        }
        
        @keyframes toastOut {
            from { bottom: 20px; opacity: 1; }
            to { bottom: -50px; opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <i class="fas fa-globe-americas floating"></i>
            </div>
            <h1>Planet Diet Keto Calculator PRO</h1>
            <p>Advanced keto tracking with meal plans, progress analytics, and 500+ recipes</p>
        </header>

        <div class="app-container">
            <!-- Macro Calculator -->
            <div class="calculator-card">
                <div class="card-header">
                    <i class="fas fa-calculator"></i>
                    <h2>Advanced Macro Calculator</h2>
                </div>
                
                <div class="input-group">
                    <label for="weight"><i class="fas fa-weight"></i> Weight (kg)</label>
                    <input type="number" id="weight" placeholder="Enter your weight" value="70">
                </div>
                
                <div class="input-group">
                    <label for="height"><i class="fas fa-ruler-vertical"></i> Height (cm)</label>
                    <input type="number" id="height" placeholder="Enter your height" value="170">
                </div>
                
                <div class="input-group">
                    <label for="age"><i class="fas fa-birthday-cake"></i> Age</label>
                    <input type="number" id="age" placeholder="Enter your age" value="35">
                </div>
                
                <div class="input-group">
                    <label for="body-fat"><i class="fas fa-percentage"></i> Body Fat (%)</label>
                    <input type="number" id="body-fat" placeholder="Enter body fat %" value="25">
                </div>
                
                <div class="input-group">
                    <label for="goal"><i class="fas fa-bullseye"></i> Keto Goal</label>
                    <select id="goal">
                        <option value="loss">Weight Loss</option>
                        <option value="maintain">Weight Maintenance</option>
                        <option value="gain">Muscle Gain</option>
                        <option value="extreme">Extreme Fat Loss</option>
                    </select>
                </div>
                
                <div class="input-group">
                    <label for="activity"><i class="fas fa-walking"></i> Activity Level</label>
                    <select id="activity">
                        <option value="sedentary">Sedentary</option>
                        <option value="light">Light Exercise</option>
                        <option value="moderate" selected>Moderate Exercise</option>
                        <option value="active">Active</option>
                        <option value="athlete">Athlete</option>
                    </select>
                </div>
                
                <button class="btn" id="calculate-btn">
                    <i class="fas fa-calculator"></i> Calculate Macros
                </button>
                
                <div class="result-box">
                    <h3>Your Personalized Macros</h3>
                    <div class="result-value" id="calories">1920</div>
                    <div class="result-label">CALORIES</div>
                    
                    <div class="macros">
                        <div style="display: flex; justify-content: space-around; margin-top: 20px;">
                            <div>
                                <div class="result-value" id="fat">160g</div>
                                <div class="result-label">FAT (70%)</div>
                            </div>
                            <div>
                                <div class="result-value" id="protein">95g</div>
                                <div class="result-label">PROTEIN (25%)</div>
                            </div>
                            <div>
                                <div class="result-value" id="carbs">28g</div>
                                <div class="result-label">CARBS (5%)</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Food Tracker -->
            <div class="calculator-card">
                <div class="card-header">
                    <i class="fas fa-utensils"></i>
                    <h2>Food Tracker & Database</h2>
                </div>
                
                <div class="input-group">
                    <label for="food-search"><i class="fas fa-search"></i> Search 500+ Keto Foods</label>
                    <input type="text" id="food-search" placeholder="Search for food...">
                </div>
                
                <h3 style="margin: 20px 0 10px; color: var(--dark);">Your Favorite Foods:</h3>
                <div class="food-grid" id="favorite-foods">
                    <div class="food-item" data-food="bacon">
                        <i class="fas fa-bacon"></i>
                        <span>Bacon</span>
                    </div>
                    <div class="food-item" data-food="eggs">
                        <i class="fas fa-egg"></i>
                        <span>Eggs</span>
                    </div>
                    <div class="food-item" data-food="avocado">
                        <i class="fas fa-seedling"></i>
                        <span>Avocado</span>
                    </div>
                    <div class="food-item" data-food="chicken">
                        <i class="fas fa-drumstick-bite"></i>
                        <span>Chicken</span>
                    </div>
                    <div class="food-item" data-food="beef">
                        <i class="fas fa-hamburger"></i>
                        <span>Beef</span>
                    </div>
                    <div class="food-item" data-food="cheese">
                        <i class="fas fa-cheese"></i>
                        <span>Cheese</span>
                    </div>
                    <div class="food-item" data-food="butter">
                        <i class="fas fa-cube"></i>
                        <span>Butter</span>
                    </div>
                    <div class="food-item" data-food="salmon">
                        <i class="fas fa-fish"></i>
                        <span>Salmon</span>
                    </div>
                </div>
                
                <div style="margin-top: 20px; display: flex; gap: 10px;">
                    <button class="btn btn-secondary" id="add-food-btn" style="flex: 1;">
                        <i class="fas fa-plus-circle"></i> Add Food
                    </button>
                    <button class="btn" id="meal-history-btn" style="flex: 1;">
                        <i class="fas fa-history"></i> Meal History
                    </button>
                </div>
                
                <div class="result-box" style="background: linear-gradient(135deg, #2196F3, #0D47A1); margin-top: 25px;">
                    <h3>Today's Nutrition Summary</h3>
                    <div style="display: flex; justify-content: space-around; margin-top: 15px;">
                        <div>
                            <div class="result-value" id="today-carbs">18g</div>
                            <div class="result-label">CARBS</div>
                        </div>
                        <div>
                            <div class="result-value" id="today-protein">86g</div>
                            <div class="result-label">PROTEIN</div>
                        </div>
                        <div>
                            <div class="result-value" id="today-fat">124g</div>
                            <div class="result-label">FAT</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.3);">
                        <div class="result-value" id="today-calories">1560</div>
                        <div class="result-label">CALORIES</div>
                    </div>
                    <div style="margin-top: 15px; font-size: 1.1rem;" id="daily-goal">
                        <i class="fas fa-check-circle"></i> 86% of Daily Goal
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Recipe Generator -->
        <div class="recipe-generator">
            <div class="section-header">
                <i class="fas fa-lightbulb"></i>
                <h2>Recipe Generator from Ingredients</h2>
            </div>
            
            <p>Enter the ingredients you have and we'll suggest keto recipes:</p>
            
            <div class="ingredient-input">
                <input type="text" id="ingredient-input" placeholder="Enter an ingredient (e.g. chicken, avocado)">
                <button class="btn" id="add-ingredient">
                    <i class="fas fa-plus"></i> Add
                </button>
            </div>
            
            <div class="ingredient-tags" id="ingredient-tags">
                <!-- Tags will be added here -->
            </div>
            
            <button class="btn" id="generate-recipes">
                <i class="fas fa-magic"></i> Generate Recipes
            </button>
            
            <div class="suggested-recipes" id="suggested-recipes">
                <!-- Suggested recipes will appear here -->
            </div>
        </div>
        
        <!-- PRO Features Section -->
        <div class="pro-features">
            <div class="pro-header">
                <h2><span class="pro-badge">PRO FEATURES</span> Exclusive to Full Version</h2>
            </div>
            
            <div class="features-grid">
                <div class="feature-card-pro">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Advanced Progress Tracking</h3>
                    <ul>
                        <li>Daily weight and measurement logging</li>
                        <li>Body fat percentage calculator</li>
                        <li>Customizable progress reports</li>
                        <li>Progress timeline</li>
                        <li>Ketone level tracking</li>
                    </ul>
                </div>
                
                <div class="feature-card-pro">
                    <div class="feature-icon">
                        <i class="fas fa-utensils"></i>
                    </div>
                    <h3>Meal Planning System</h3>
                    <ul>
                        <li>500+ keto recipes with photos</li>
                        <li>Personalized weekly meal plans</li>
                        <li>Automatic grocery list generator</li>
                        <li>Meal prep scheduling</li>
                        <li>Restaurant keto guides</li>
                    </ul>
                </div>
                
                <div class="feature-card-pro">
                    <div class="feature-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h3>Advanced Tools</h3>
                    <ul>
                        <li>Fasting timer and tracker</li>
                        <li>Macro cycling for plateaus</li>
                        <li>Supplement advisor</li>
                        <li>Hydration tracker</li>
                        <li>Custom macro adjustments</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <!-- Progress Tracking -->
        <div class="progress-section">
            <div class="section-header">
                <i class="fas fa-chart-line"></i>
                <h2>Progress Analytics</h2>
            </div>
            
            <div class="progress-container">
                <div class="progress-card">
                    <h3>Weight Loss Progress</h3>
                    <p>Current: <span id="current-weight">75</span>kg | Goal: 68kg</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="weight-progress" style="width: 65%"></div>
                    </div>
                    <div class="progress-data">
                        <span>Start: 82kg</span>
                        <span id="weight-percentage">65% Complete</span>
                        <span>Goal: 68kg</span>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="weight-chart"></canvas>
                    </div>
                </div>
                
                <div class="progress-card">
                    <h3>Body Fat Percentage</h3>
                    <p>Current: <span id="current-bodyfat">25</span>% | Goal: 18%</p>
                    <div class="progress-bar">
                        <div class="progress-fill" id="bodyfat-progress" style="width: 45%"></div>
                    </div>
                    <div class="progress-data">
                        <span>Start: 30%</span>
                        <span id="bodyfat-percentage">45% Complete</span>
                        <span>Goal: 18%</span>
                    </div>
                    
                    <div class="progress-form">
                        <h3>Add Progress Entry</h3>
                        <div class="form-row">
                            <div class="input-group">
                                <label for="entry-date">Date</label>
                                <input type="date" id="entry-date">
                            </div>
                            <div class="input-group">
                                <label for="entry-weight">Weight (kg)</label>
                                <input type="number" id="entry-weight" step="0.1" placeholder="e.g. 75.5">
                            </div>
                            <div class="input-group">
                                <label for="entry-bodyfat">Body Fat (%)</label>
                                <input type="number" id="entry-bodyfat" step="0.1" placeholder="e.g. 25.3">
                            </div>
                        </div>
                        <button class="btn" id="add-progress-btn">
                            <i class="fas fa-plus"></i> Add Entry
                        </button>
                        
                        <div class="progress-history">
                            <h3>Progress History</h3>
                            <div id="history-list">
                                <!-- History entries will appear here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Advanced Tools -->
        <div class="progress-section">
            <div class="section-header">
                <i class="fas fa-tools"></i>
                <h2>Advanced Tools</h2>
            </div>
            
            <div class="progress-container">
                <div class="progress-card">
                    <h3>Fasting Tracker</h3>
                    <p>Current Fast: 14:32</p>
                    <div class="fasting-display" id="fasting-timer">14:32:15</div>
                    <div class="fasting-controls">
                        <button class="btn btn-fasting" id="start-fasting">
                            <i class="fas fa-play"></i> Start
                        </button>
                        <button class="btn btn-fasting" id="stop-fasting">
                            <i class="fas fa-stop"></i> Stop
                        </button>
                        <button class="btn btn-fasting" id="reset-fasting">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <h3>Fasting History</h3>
                        <ul style="text-align: left; margin-top: 10px;">
                            <li>Yesterday: 16 hours</li>
                            <li>This week average: 14.5 hours</li>
                            <li>Longest fast: 22 hours</li>
                        </ul>
                    </div>
                </div>
                
                <div class="progress-card">
                    <h3>Hydration Tracker</h3>
                    <p>Daily Goal: 2.5L</p>
                    <div class="result-value" id="water-intake">1.2L</div>
                    <div class="water-buttons">
                        <div class="water-btn" data-amount="0.25">250ml</div>
                        <div class="water-btn" data-amount="0.5">500ml</div>
                        <div class="water-btn" data-amount="0.75">750ml</div>
                        <div class="water-btn" data-amount="1">1L</div>
                    </div>
                    
                    <div class="progress-bar">
                        <div class="progress-fill" id="water-progress" style="width: 48%; background: linear-gradient(90deg, var(--water), #0D47A1);"></div>
                    </div>
                    
                    <div style="display: flex; gap: 10px; margin-top: 20px;">
                        <button class="btn btn-water" id="add-custom-water" style="flex: 1;">
                            <i class="fas fa-plus"></i> Add Custom Amount
                        </button>
                        <button class="btn btn-water" id="reset-water" style="flex: 1;">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Recipe Section -->
        <div class="recipe-section">
            <div class="section-header">
                <i class="fas fa-book"></i>
                <h2>Premium Keto Recipes</h2>
            </div>
            
            <div class="recipe-grid">
                <div class="recipe-card" data-recipe="chicken">
                    <div class="recipe-image">
                        <i class="fas fa-bacon"></i>
                    </div>
                    <div class="recipe-content">
                        <h3>Creamy Garlic Chicken</h3>
                        <div class="recipe-meta">
                            <span><i class="fas fa-fire"></i> 420 cal</span>
                            <span><i class="fas fa-clock"></i> 25 min</span>
                        </div>
                        <p>Tender chicken breasts in a rich garlic parmesan cream sauce with spinach.</p>
                        <div class="recipe-tags">
                            <span class="recipe-tag">High Protein</span>
                            <span class="recipe-tag">Under 30m</span>
                        </div>
                    </div>
                </div>
                
                <div class="recipe-card" data-recipe="fatbombs">
                    <div class="recipe-image">
                        <i class="fas fa-cheese"></i>
                    </div>
                    <div class="recipe-content">
                        <h3>Keto Fat Bombs</h3>
                        <div class="recipe-meta">
                            <span><i class="fas fa-fire"></i> 210 cal</span>
                            <span><i class="fas fa-clock"></i> 15 min</span>
                        </div>
                        <p>Creamy chocolate peanut butter fat bombs for quick energy and satisfaction.</p>
                        <div class="recipe-tags">
                            <span class="recipe-tag">Snack</span>
                            <span class="recipe-tag">Dessert</span>
                        </div>
                    </div>
                </div>
                
                <div class="recipe-card" data-recipe="salmon">
                    <div class="recipe-image">
                        <i class="fas fa-fish"></i>
                    </div>
                    <div class="recipe-content">
                        <h3>Lemon Butter Salmon</h3>
                        <div class="recipe-meta">
                            <span><i class="fas fa-fire"></i> 380 cal</span>
                            <span><i class="fas fa-clock"></i> 20 min</span>
                        </div>
                        <p>Pan-seared salmon with garlic lemon butter sauce and asparagus.</p>
                        <div class="recipe-tags">
                            <span class="recipe-tag">Omega-3</span>
                            <span class="recipe-tag">Quick Meal</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Extra Recipes CTA -->
            <div class="extra-recipes">
                <a href="https://tinyurl.com/plant-basedvegan" target="_blank">
                    <i class="fas fa-gift"></i> Get 200+ Extra Plant-Based Recipes
                </a>
            </div>
        </div>
        
        <!-- Install App Section -->
        <div class="install-section">
            <div class="install-content">
                <div class="install-icon">
                    <i class="fas fa-laptop"></i>
                </div>
                <h2>Get Planet Diet on Your Computer</h2>
                <p>Install our application to access your keto plan anytime, even offline. Get desktop notifications and enjoy a seamless experience.</p>
                <button class="btn" id="install-btn" style="background: white; color: var(--accent);">
                    <i class="fas fa-download"></i> Install Application
                </button>
            </div>
        </div>
        
        <footer>
            <p>Planet Diet PRO &copy; 2023 | Thank you for your purchase!</p>
            <p style="margin-top: 10px;">Disclaimer: This app is for informational purposes only. Consult a healthcare professional before starting any diet.</p>
        </footer>
    </div>

    <!-- Recipe Modal -->
    <div class="modal" id="recipe-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Creamy Garlic Chicken</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-image">
                    <i class="fas fa-bacon"></i>
                </div>
                
                <div class="recipe-meta" id="modal-meta">
                    <span><i class="fas fa-fire"></i> 420 cal</span>
                    <span><i class="fas fa-clock"></i> 25 min</span>
                    <span><i class="fas fa-user"></i> 4 servings</span>
                </div>
                
                <div class="modal-ingredients">
                    <h3>Ingredients</h3>
                    <ul id="ingredients-list">
                        <!-- Ingredients will be added by JS -->
                    </ul>
                </div>
                
                <div class="modal-instructions">
                    <h3>Instructions</h3>
                    <ol id="instructions-list">
                        <!-- Instructions will be added by JS -->
                    </ol>
                </div>
                
                <div class="modal-nutrition">
                    <h3>Nutrition per Serving</h3>
                    <div class="nutrition-grid" id="nutrition-grid">
                        <!-- Nutrition info will be added by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script>
        // Recipe database - Added 30+ keto ingredients
        const recipes = {
            chicken: {
                title: "Creamy Garlic Chicken",
                icon: "fa-bacon",
                calories: 420,
                time: 25,
                servings: 4,
                ingredients: [
                    "4 chicken breasts",
                    "2 tbsp olive oil",
                    "4 cloves garlic, minced",
                    "1 cup heavy cream",
                    "1/2 cup grated parmesan",
                    "2 cups fresh spinach",
                    "1 tsp Italian seasoning",
                    "Salt and pepper to taste"
                ],
                instructions: [
                    "Season chicken breasts with salt and pepper.",
                    "Heat olive oil in a skillet over medium-high heat.",
                    "Cook chicken for 6-7 minutes per side until golden.",
                    "Remove chicken and set aside.",
                    "In the same skillet, add garlic and cook for 1 minute.",
                    "Add heavy cream, parmesan, and Italian seasoning.",
                    "Simmer for 3-4 minutes until sauce thickens.",
                    "Add spinach and cook until wilted.",
                    "Return chicken to skillet and simmer for 2 minutes.",
                    "Serve immediately."
                ],
                nutrition: {
                    calories: 420,
                    fat: 28,
                    protein: 38,
                    carbs: 6,
                    fiber: 2
                }
            },
            fatbombs: {
                title: "Keto Fat Bombs",
                icon: "fa-cheese",
                calories: 210,
                time: 15,
                servings: 12,
                ingredients: [
                    "1 cup coconut oil",
                    "1/2 cup natural peanut butter",
                    "1/4 cup cocoa powder",
                    "1/4 cup powdered erythritol",
                    "1 tsp vanilla extract",
                    "Pinch of salt"
                ],
                instructions: [
                    "Melt coconut oil in a saucepan over low heat.",
                    "Remove from heat and stir in peanut butter.",
                    "Add cocoa powder, erythritol, vanilla, and salt.",
                    "Whisk until smooth.",
                    "Pour mixture into silicone molds or mini cupcake liners.",
                    "Refrigerate for 1 hour until set.",
                    "Store in refrigerator for up to 2 weeks."
                ],
                nutrition: {
                    calories: 210,
                    fat: 22,
                    protein: 4,
                    carbs: 4,
                    fiber: 2
                }
            },
            salmon: {
                title: "Lemon Butter Salmon",
                icon: "fa-fish",
                calories: 380,
                time: 20,
                servings: 2,
                ingredients: [
                    "2 salmon fillets",
                    "2 tbsp butter",
                    "2 cloves garlic, minced",
                    "1 lemon (juice and zest)",
                    "1 tbsp fresh dill, chopped",
                    "1 bunch asparagus",
                    "Salt and pepper to taste"
                ],
                instructions: [
                    "Season salmon with salt and pepper.",
                    "Melt butter in skillet over medium heat.",
                    "Add garlic and cook for 1 minute.",
                    "Add salmon skin-side down and cook for 4-5 minutes.",
                    "Flip salmon and add asparagus to skillet.",
                    "Cook for another 4-5 minutes.",
                    "Add lemon juice, zest, and dill.",
                    "Spoon sauce over salmon and cook for 1 minute.",
                    "Serve immediately."
                ],
                nutrition: {
                    calories: 380,
                    fat: 26,
                    protein: 34,
                    carbs: 8,
                    fiber: 3
                }
            },
            // Additional recipes for ingredient matching
            avocadosalad: {
                title: "Avocado Chicken Salad",
                icon: "fa-seedling",
                calories: 320,
                time: 15,
                servings: 2,
                ingredients: [
                    "2 cooked chicken breasts, shredded",
                    "1 ripe avocado",
                    "1/4 cup Greek yogurt",
                    "1 tbsp lemon juice",
                    "1/4 cup diced celery",
                    "Salt and pepper to taste"
                ],
                instructions: [
                    "In a bowl, mash avocado with lemon juice.",
                    "Add Greek yogurt and mix until smooth.",
                    "Add shredded chicken and diced celery.",
                    "Season with salt and pepper.",
                    "Mix well and serve on lettuce cups."
                ],
                nutrition: {
                    calories: 320,
                    fat: 22,
                    protein: 28,
                    carbs: 6,
                    fiber: 4
                }
            },
            baconomelette: {
                title: "Bacon & Cheese Omelette",
                icon: "fa-egg",
                calories: 450,
                time: 10,
                servings: 1,
                ingredients: [
                    "3 large eggs",
                    "2 slices bacon, cooked and crumbled",
                    "1/4 cup shredded cheddar",
                    "1 tbsp butter",
                    "Salt and pepper to taste"
                ],
                instructions: [
                    "Whisk eggs with salt and pepper.",
                    "Melt butter in a skillet over medium heat.",
                    "Pour eggs into skillet and cook until edges set.",
                    "Sprinkle bacon and cheese over half the omelette.",
                    "Fold and cook for another minute.",
                    "Serve immediately."
                ],
                nutrition: {
                    calories: 450,
                    fat: 35,
                    protein: 28,
                    carbs: 2,
                    fiber: 0
                }
            },
            steak: {
                title: "Garlic Butter Steak",
                icon: "fa-drumstick-bite",
                calories: 580,
                time: 15,
                servings: 2,
                ingredients: [
                    "2 ribeye steaks",
                    "4 tbsp butter",
                    "4 cloves garlic, minced",
                    "1 tsp rosemary",
                    "Salt and pepper to taste"
                ],
                instructions: [
                    "Season steaks generously with salt and pepper.",
                    "Heat skillet over high heat until smoking hot.",
                    "Sear steaks for 3-4 minutes per side for medium-rare.",
                    "Reduce heat, add butter, garlic and rosemary.",
                    "Baste steaks with butter for 1-2 minutes.",
                    "Rest for 5 minutes before serving."
                ],
                nutrition: {
                    calories: 580,
                    fat: 45,
                    protein: 42,
                    carbs: 1,
                    fiber: 0
                }
            },
            cheesecake: {
                title: "Keto Cheesecake",
                icon: "fa-cheese",
                calories: 380,
                time: 45,
                servings: 8,
                ingredients: [
                    "2 cups almond flour",
                    "1/3 cup melted butter",
                    "24 oz cream cheese",
                    "3/4 cup erythritol",
                    "3 eggs",
                    "1 tsp vanilla extract"
                ],
                instructions: [
                    "Mix almond flour and melted butter for crust.",
                    "Press into springform pan and bake at 350°F for 10 min.",
                    "Beat cream cheese until smooth.",
                    "Add erythritol, eggs, and vanilla; mix well.",
                    "Pour filling over crust and bake for 30 min.",
                    "Cool completely before refrigerating for 4 hours."
                ],
                nutrition: {
                    calories: 380,
                    fat: 36,
                    protein: 9,
                    carbs: 6,
                    fiber: 2
                }
            },
            zoodles: {
                title: "Pesto Zucchini Noodles",
                icon: "fa-carrot",
                calories: 320,
                time: 15,
                servings: 2,
                ingredients: [
                    "4 medium zucchinis, spiralized",
                    "1/2 cup pesto",
                    "1/4 cup pine nuts",
                    "1/4 cup grated parmesan",
                    "2 tbsp olive oil"
                ],
                instructions: [
                    "Heat olive oil in a large skillet.",
                    "Add zucchini noodles and sauté for 2-3 minutes.",
                    "Remove from heat and stir in pesto.",
                    "Top with pine nuts and parmesan.",
                    "Serve immediately."
                ],
                nutrition: {
                    calories: 320,
                    fat: 28,
                    protein: 8,
                    carbs: 10,
                    fiber: 3
                }
            }
        };

        // Food database - Added 30+ keto foods
        const foods = {
            bacon: { name: "Bacon", icon: "fa-bacon", calories: 43, fat: 3.3, protein: 3, carbs: 0.1 },
            eggs: { name: "Eggs", icon: "fa-egg", calories: 78, fat: 5.3, protein: 6.5, carbs: 0.6 },
            avocado: { name: "Avocado", icon: "fa-seedling", calories: 160, fat: 15, protein: 2, carbs: 9 },
            chicken: { name: "Chicken", icon: "fa-drumstick-bite", calories: 165, fat: 3.6, protein: 31, carbs: 0 },
            beef: { name: "Beef", icon: "fa-hamburger", calories: 250, fat: 20, protein: 26, carbs: 0 },
            cheese: { name: "Cheese", icon: "fa-cheese", calories: 115, fat: 9, protein: 7, carbs: 1 },
            butter: { name: "Butter", icon: "fa-cube", calories: 102, fat: 11.5, protein: 0.1, carbs: 0.1 },
            salmon: { name: "Salmon", icon: "fa-fish", calories: 206, fat: 13, protein: 22, carbs: 0 },
            almond: { name: "Almonds", icon: "fa-seedling", calories: 170, fat: 15, protein: 6, carbs: 6 },
            coconut: { name: "Coconut Oil", icon: "fa-oil-can", calories: 120, fat: 14, protein: 0, carbs: 0 },
            olive: { name: "Olive Oil", icon: "fa-oil-can", calories: 120, fat: 14, protein: 0, carbs: 0 },
            spinach: { name: "Spinach", icon: "fa-leaf", calories: 7, fat: 0.1, protein: 0.9, carbs: 1.1 },
            broccoli: { name: "Broccoli", icon: "fa-tree", calories: 34, fat: 0.4, protein: 2.8, carbs: 7 },
            cauliflower: { name: "Cauliflower", icon: "fa-tree", calories: 25, fat: 0.3, protein: 2, carbs: 5 },
            mushroom: { name: "Mushrooms", icon: "fa-tree", calories: 22, fat: 0.3, protein: 3.1, carbs: 3.3 },
            pork: { name: "Pork", icon: "fa-bacon", calories: 242, fat: 14, protein: 27, carbs: 0 },
            turkey: { name: "Turkey", icon: "fa-drumstick-bite", calories: 135, fat: 3, protein: 29, carbs: 0 },
            lamb: { name: "Lamb", icon: "fa-hamburger", calories: 294, fat: 21, protein: 25, carbs: 0 },
            tuna: { name: "Tuna", icon: "fa-fish", calories: 184, fat: 6, protein: 30, carbs: 0 },
            shrimp: { name: "Shrimp", icon: "fa-fish", calories: 85, fat: 0.5, protein: 18, carbs: 0.2 },
            cheddar: { name: "Cheddar", icon: "fa-cheese", calories: 115, fat: 9.5, protein: 7, carbs: 0.4 },
            mozzarella: { name: "Mozzarella", icon: "fa-cheese", calories: 85, fat: 6, protein: 6, carbs: 1 },
            cream: { name: "Heavy Cream", icon: "fa-glass-whiskey", calories: 52, fat: 5.6, protein: 0.4, carbs: 0.4 },
            sourcream: { name: "Sour Cream", icon: "fa-glass-whiskey", calories: 60, fat: 5, protein: 1, carbs: 2 },
            mayo: { name: "Mayonnaise", icon: "fa-glass-whiskey", calories: 94, fat: 10, protein: 0.1, carbs: 0.4 },
            walnut: { name: "Walnuts", icon: "fa-seedling", calories: 185, fat: 18, protein: 4, carbs: 4 },
            pecan: { name: "Pecans", icon: "fa-seedling", calories: 196, fat: 20, protein: 3, carbs: 4 },
            macadamia: { name: "Macadamia", icon: "fa-seedling", calories: 204, fat: 21.5, protein: 2.2, carbs: 4 },
            flaxseed: { name: "Flaxseed", icon: "fa-seedling", calories: 55, fat: 4, protein: 2, carbs: 3 },
            chia: { name: "Chia Seeds", icon: "fa-seedling", calories: 58, fat: 4, protein: 2, carbs: 5 },
            cocoa: { name: "Cocoa Powder", icon: "fa-cookie", calories: 20, fat: 1.2, protein: 1.8, carbs: 5 },
            pepperoni: { name: "Pepperoni", icon: "fa-bacon", calories: 140, fat: 12, protein: 6, carbs: 1 },
            sausage: { name: "Sausage", icon: "fa-bacon", calories: 290, fat: 25, protein: 13, carbs: 2 },
            oliveoil: { name: "Olive Oil", icon: "fa-oil-can", calories: 120, fat: 14, protein: 0, carbs: 0 },
            coconutmilk: { name: "Coconut Milk", icon: "fa-glass-whiskey", calories: 230, fat: 24, protein: 2, carbs: 3 }
        };

        // Daily nutrition tracking
        let dailyNutrition = {
            calories: 0,
            fat: 0,
            protein: 0,
            carbs: 0
        };

        // Fasting tracker variables
        let fastingInterval;
        let fastingStartTime = null;
        let fastingSeconds = 0;

        // Hydration tracking
        let waterIntake = 0;
        const waterGoal = 2.5; // liters

        // Progress tracking
        let progressHistory = [];
        let currentWeight = 75;
        let currentBodyFat = 25;

        // DOM Elements
        const recipeModal = document.getElementById('recipe-modal');
        const modalTitle = document.getElementById('modal-title');
        const ingredientsList = document.getElementById('ingredients-list');
        const instructionsList = document.getElementById('instructions-list');
        const nutritionGrid = document.getElementById('nutrition-grid');
        const modalMeta = document.getElementById('modal-meta');
        const closeModalBtn = document.querySelector('.close-modal');
        const installBtn = document.getElementById('install-btn');
        const addFoodBtn = document.getElementById('add-food-btn');
        const mealHistoryBtn = document.getElementById('meal-history-btn');
        const todayCalories = document.getElementById('today-calories');
        const todayCarbs = document.getElementById('today-carbs');
        const todayProtein = document.getElementById('today-protein');
        const todayFat = document.getElementById('today-fat');
        const dailyGoal = document.getElementById('daily-goal');
        const fastingTimer = document.getElementById('fasting-timer');
        const startFastingBtn = document.getElementById('start-fasting');
        const stopFastingBtn = document.getElementById('stop-fasting');
        const resetFastingBtn = document.getElementById('reset-fasting');
        const waterIntakeEl = document.getElementById('water-intake');
        const waterButtons = document.querySelectorAll('.water-btn');
        const ingredientInput = document.getElementById('ingredient-input');
        const addIngredientBtn = document.getElementById('add-ingredient');
        const ingredientTags = document.getElementById('ingredient-tags');
        const generateRecipesBtn = document.getElementById('generate-recipes');
        const suggestedRecipes = document.getElementById('suggested-recipes');
        const addProgressBtn = document.getElementById('add-progress-btn');
        const entryDate = document.getElementById('entry-date');
        const entryWeight = document.getElementById('entry-weight');
        const entryBodyFat = document.getElementById('entry-bodyfat');
        const historyList = document.getElementById('history-list');
        const addCustomWaterBtn = document.getElementById('add-custom-water');
        const resetWaterBtn = document.getElementById('reset-water');
        const currentWeightEl = document.getElementById('current-weight');
        const currentBodyFatEl = document.getElementById('current-bodyfat');
        const weightProgress = document.getElementById('weight-progress');
        const bodyFatProgress = document.getElementById('bodyfat-progress');
        const weightPercentage = document.getElementById('weight-percentage');
        const bodyFatPercentage = document.getElementById('bodyfat-percentage');

        // Set today's date as default
        window.addEventListener('load', function() {
            const today = new Date().toISOString().split('T')[0];
            entryDate.value = today;
        });

        // Βασική λειτουργικότητα αριθμομηχανής
        document.getElementById('calculate-btn').addEventListener('click', function() {
            // Πραγματικοί υπολογισμοί βάσει των δεδομένων του χρήστη
            const weight = parseFloat(document.getElementById('weight').value) || 70;
            const height = parseFloat(document.getElementById('height').value) || 170;
            const age = parseInt(document.getElementById('age').value) || 35;
            const bodyFat = parseFloat(document.getElementById('body-fat').value) || 25;
            const activity = document.getElementById('activity').value;
            const goal = document.getElementById('goal').value;
            
            // Υπολογισμός BMR (Basal Metabolic Rate)
            let bmr = 10 * weight + 6.25 * height - 5 * age + 5;
            
            // Adjust BMR based on body fat percentage
            if (bodyFat > 20) {
                bmr *= 0.95; // Reduce for higher body fat
            } else if (bodyFat < 15) {
                bmr *= 1.05; // Increase for lower body fat
            }
            
            // Πολλαπλασιαστής δραστηριότητας
            const activityMultipliers = {
                sedentary: 1.2,
                light: 1.375,
                moderate: 1.55,
                active: 1.725,
                athlete: 1.9
            };
            
            // Πολλαπλασιαστής στόχου
            const goalMultipliers = {
                loss: 0.8,
                maintain: 1,
                gain: 1.1,
                extreme: 0.7
            };
            
            let calories = Math.round(bmr * activityMultipliers[activity] * goalMultipliers[goal]);
            
            // Προσαρμογή για keto
            const fat = Math.round(calories * 0.7 / 9); // 70% των θερμίδων από λίπος
            const protein = Math.round(calories * 0.25 / 4); // 25% από πρωτεΐνη
            const carbs = Math.round(calories * 0.05 / 4); // 5% από υδατάνθρακες
            
            // Ενημέρωση αποτελεσμάτων
            document.getElementById('calories').textContent = calories;
            document.getElementById('fat').textContent = `${fat}g`;
            document.getElementById('protein').textContent = `${protein}g`;
            document.getElementById('carbs').textContent = `${carbs}g`;
            
            // Εφέ κινούμενης εικόνας
            document.querySelectorAll('.result-value').forEach(el => {
                el.classList.remove('pulse');
                void el.offsetWidth;
                el.classList.add('pulse');
            });
        });

        // Open recipe modal
        document.querySelectorAll('.recipe-card').forEach(card => {
            card.addEventListener('click', function() {
                const recipeId = this.getAttribute('data-recipe');
                const recipe = recipes[recipeId];
                
                modalTitle.textContent = recipe.title;
                modalMeta.innerHTML = `
                    <span><i class="fas fa-fire"></i> ${recipe.calories} cal</span>
                    <span><i class="fas fa-clock"></i> ${recipe.time} min</span>
                    <span><i class="fas fa-user"></i> ${recipe.servings} servings</span>
                `;
                
                // Set modal image
                const modalImage = document.querySelector('.modal-image i');
                modalImage.className = `fas ${recipe.icon}`;
                
                // Populate ingredients
                ingredientsList.innerHTML = '';
                recipe.ingredients.forEach(ingredient => {
                    const li = document.createElement('li');
                    li.textContent = ingredient;
                    ingredientsList.appendChild(li);
                });
                
                // Populate instructions
                instructionsList.innerHTML = '';
                recipe.instructions.forEach((step, index) => {
                    const li = document.createElement('li');
                    li.textContent = step;
                    instructionsList.appendChild(li);
                });
                
                // Populate nutrition info
                nutritionGrid.innerHTML = '';
                for (const [key, value] of Object.entries(recipe.nutrition)) {
                    if (key === 'calories') continue;
                    
                    const nutritionItem = document.createElement('div');
                    nutritionItem.className = 'nutrition-item';
                    nutritionItem.innerHTML = `
                        <div class="nutrition-value">${value}${key === 'carbs' || key === 'fiber' ? 'g' : ''}</div>
                        <div class="nutrition-label">${key.toUpperCase()}</div>
                    `;
                    nutritionGrid.appendChild(nutritionItem);
                }
                
                // Show modal
                recipeModal.style.display = 'flex';
            });
        });

        // Close modal
        closeModalBtn.addEventListener('click', function() {
            recipeModal.style.display = 'none';
        });

        // Close modal when clicking outside
        window.addEventListener('click', function(event) {
            if (event.target === recipeModal) {
                recipeModal.style.display = 'none';
            }
        });

        // Add food to daily intake
        document.querySelectorAll('.food-item').forEach(item => {
            item.addEventListener('click', function() {
                const foodId = this.getAttribute('data-food');
                const food = foods[foodId];
                
                // Add to daily nutrition
                dailyNutrition.calories += food.calories;
                dailyNutrition.fat += food.fat;
                dailyNutrition.protein += food.protein;
                dailyNutrition.carbs += food.carbs;
                
                // Update UI
                updateDailyNutrition();
                
                // Show toast notification
                showToast(`${food.name} added to daily intake!`);
            });
        });

        // Update daily nutrition display
        function updateDailyNutrition() {
            todayCalories.textContent = dailyNutrition.calories;
            todayCarbs.textContent = `${dailyNutrition.carbs.toFixed(1)}g`;
            todayProtein.textContent = `${dailyNutrition.protein.toFixed(1)}g`;
            todayFat.textContent = `${dailyNutrition.fat.toFixed(1)}g`;
            
            // Calculate daily goal percentage
            const goalCalories = parseInt(document.getElementById('calories').textContent) || 1920;
            const percentage = Math.min(100, Math.round((dailyNutrition.calories / goalCalories) * 100));
            
            dailyGoal.innerHTML = percentage >= 100 ? 
                `<i class="fas fa-check-circle"></i> Daily goal reached!` :
                `<i class="fas fa-check-circle"></i> ${percentage}% of Daily Goal`;
        }

        // Show toast notification
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `<i class="fas fa-check-circle"></i> ${message}`;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 3000);
        }

        // Install app functionality
        installBtn.addEventListener('click', function() {
            // In a real app, this would trigger PWA installation
            // For demo purposes, we'll simulate installation
            showToast('Planet Diet app installed successfully!');
            
            // Change button to indicate installed
            installBtn.innerHTML = '<i class="fas fa-check"></i> Installed';
            installBtn.disabled = true;
            installBtn.style.opacity = '0.7';
        });

        // Add food button
        addFoodBtn.addEventListener('click', function() {
            const foodSearch = document.getElementById('food-search');
            const searchTerm = foodSearch.value.trim().toLowerCase();
            
            if (searchTerm) {
                // In a real app, this would search a food database
                // For demo, we'll add a placeholder food
                dailyNutrition.calories += 150;
                dailyNutrition.fat += 12;
                dailyNutrition.protein += 5;
                dailyNutrition.carbs += 3;
                
                updateDailyNutrition();
                showToast(`Custom food "${searchTerm}" added to daily intake!`);
                foodSearch.value = '';
            } else {
                showToast('Please enter a food name to add');
            }
        });

        // Meal history button
        mealHistoryBtn.addEventListener('click', function() {
            showToast('Meal history feature is available in the full version');
        });

        // Fasting tracker functions
        startFastingBtn.addEventListener('click', function() {
            if (!fastingStartTime) {
                fastingStartTime = new Date();
                fastingInterval = setInterval(updateFastingTimer, 1000);
            }
        });

        stopFastingBtn.addEventListener('click', function() {
            if (fastingStartTime) {
                clearInterval(fastingInterval);
                fastingStartTime = null;
                showToast('Fasting session recorded!');
            }
        });

        resetFastingBtn.addEventListener('click', function() {
            clearInterval(fastingInterval);
            fastingStartTime = null;
            fastingSeconds = 0;
            fastingTimer.textContent = '00:00:00';
        });

        function updateFastingTimer() {
            fastingSeconds++;
            const hours = Math.floor(fastingSeconds / 3600);
            const minutes = Math.floor((fastingSeconds % 3600) / 60);
            const seconds = fastingSeconds % 60;
            
            fastingTimer.textContent = 
                `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }

        // Hydration tracker
        waterButtons.forEach(button => {
            button.addEventListener('click', function() {
                const amount = parseFloat(this.getAttribute('data-amount'));
                waterIntake += amount;
                updateWaterDisplay();
            });
        });

        // Reset water intake
        resetWaterBtn.addEventListener('click', function() {
            waterIntake = 0;
            updateWaterDisplay();
            showToast('Water intake reset to zero!');
        });

        // Add custom water amount
        addCustomWaterBtn.addEventListener('click', function() {
            const amount = parseFloat(prompt('Enter amount of water in liters (e.g. 0.5 for 500ml):'));
            if (!isNaN(amount) && amount > 0) {
                waterIntake += amount;
                updateWaterDisplay();
                showToast(`Added ${amount}L of water!`);
            } else {
                showToast('Please enter a valid number');
            }
        });

        function updateWaterDisplay() {
            waterIntakeEl.textContent = `${waterIntake.toFixed(1)}L`;
            
            // Update progress bar
            const percentage = Math.min(100, (waterIntake / waterGoal) * 100);
            document.getElementById('water-progress').style.width = `${percentage}%`;
        }

        // Recipe generator from ingredients
        let selectedIngredients = [];
        
        addIngredientBtn.addEventListener('click', function() {
            const ingredient = ingredientInput.value.trim().toLowerCase();
            if (ingredient && !selectedIngredients.includes(ingredient)) {
                selectedIngredients.push(ingredient);
                updateIngredientTags();
                ingredientInput.value = '';
            }
        });

        function updateIngredientTags() {
            ingredientTags.innerHTML = '';
            selectedIngredients.forEach(ingredient => {
                const tag = document.createElement('div');
                tag.className = 'ingredient-tag';
                tag.innerHTML = `
                    ${ingredient.charAt(0).toUpperCase() + ingredient.slice(1)}
                    <i class="fas fa-times" data-ingredient="${ingredient}"></i>
                `;
                ingredientTags.appendChild(tag);
            });
            
            // Add event listeners to remove buttons
            document.querySelectorAll('.ingredient-tag i').forEach(icon => {
                icon.addEventListener('click', function() {
                    const ingredientToRemove = this.getAttribute('data-ingredient');
                    selectedIngredients = selectedIngredients.filter(i => i !== ingredientToRemove);
                    updateIngredientTags();
                });
            });
        }

        generateRecipesBtn.addEventListener('click', function() {
            if (selectedIngredients.length === 0) {
                showToast('Please add some ingredients first');
                return;
            }
            
            // Filter recipes that include at least one of the selected ingredients
            const matchedRecipes = Object.values(recipes).filter(recipe => {
                const recipeIngredients = recipe.ingredients.join(' ').toLowerCase();
                return selectedIngredients.some(ingredient => 
                    recipeIngredients.includes(ingredient)
                );
            });
            
            if (matchedRecipes.length === 0) {
                showToast('No recipes found with these ingredients');
                return;
            }
            
            // Display matched recipes
            suggestedRecipes.innerHTML = '';
            matchedRecipes.slice(0, 3).forEach(recipe => {
                const recipeCard = document.createElement('div');
                recipeCard.className = 'recipe-card';
                recipeCard.innerHTML = `
                    <div class="recipe-image">
                        <i class="fas ${recipe.icon}"></i>
                    </div>
                    <div class="recipe-content">
                        <h3>${recipe.title}</h3>
                        <div class="recipe-meta">
                            <span><i class="fas fa-fire"></i> ${recipe.calories} cal</span>
                            <span><i class="fas fa-clock"></i> ${recipe.time} min</span>
                        </div>
                        <p>${recipe.instructions[0].substring(0, 80)}...</p>
                        <div class="recipe-tags">
                            <span class="recipe-tag">${recipe.time < 20 ? 'Quick' : 'Easy'}</span>
                        </div>
                    </div>
                `;
                suggestedRecipes.appendChild(recipeCard);
            });
        });

        // Progress tracking functions
        addProgressBtn.addEventListener('click', function() {
            const date = entryDate.value;
            const weight = parseFloat(entryWeight.value);
            const bodyFat = parseFloat(entryBodyFat.value);
            
            if (!date || isNaN(weight) || isNaN(bodyFat)) {
                showToast('Please fill all fields with valid numbers');
                return;
            }
            
            // Add to history
            progressHistory.push({
                date,
                weight,
                bodyFat
            });
            
            // Update current values
            currentWeight = weight;
            currentBodyFat = bodyFat;
            updateProgressDisplay();
            
            // Save to localStorage
            saveProgressData();
            
            // Clear form
            entryWeight.value = '';
            entryBodyFat.value = '';
            
            showToast('Progress entry added!');
        });

        function updateProgressDisplay() {
            // Update current values
            currentWeightEl.textContent = currentWeight;
            currentBodyFatEl.textContent = currentBodyFat;
            
            // Update progress bars
            const weightPercentageVal = Math.max(0, Math.min(100, ((82 - currentWeight) / (82 - 68)) * 100));
            const bodyFatPercentageVal = Math.max(0, Math.min(100, ((30 - currentBodyFat) / (30 - 18)) * 100));
            
            weightProgress.style.width = `${weightPercentageVal}%`;
            bodyFatProgress.style.width = `${bodyFatPercentageVal}%`;
            
            weightPercentage.textContent = `${Math.round(weightPercentageVal)}% Complete`;
            bodyFatPercentage.textContent = `${Math.round(bodyFatPercentageVal)}% Complete`;
            
            // Update history list
            updateHistoryList();
        }

        function updateHistoryList() {
            historyList.innerHTML = '';
            
            // Sort by date descending
            progressHistory.sort((a, b) => new Date(b.date) - new Date(a.date));
            
            // Show only last 5 entries
            progressHistory.slice(0, 5).forEach(entry => {
                const item = document.createElement('div');
                item.className = 'history-item';
                item.innerHTML = `
                    <span>${formatDate(entry.date)}</span>
                    <span>${entry.weight} kg</span>
                    <span>${entry.bodyFat}%</span>
                `;
                historyList.appendChild(item);
            });
        }

        function formatDate(dateString) {
            const options = { month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        function saveProgressData() {
            localStorage.setItem('progressHistory', JSON.stringify(progressHistory));
            localStorage.setItem('currentWeight', currentWeight);
            localStorage.setItem('currentBodyFat', currentBodyFat);
        }

        function loadProgressData() {
            const savedHistory = localStorage.getItem('progressHistory');
            if (savedHistory) {
                progressHistory = JSON.parse(savedHistory);
            }
            
            const savedWeight = localStorage.getItem('currentWeight');
            if (savedWeight) {
                currentWeight = parseFloat(savedWeight);
            }
            
            const savedBodyFat = localStorage.getItem('currentBodyFat');
            if (savedBodyFat) {
                currentBodyFat = parseFloat(savedBodyFat);
            }
            
            updateProgressDisplay();
        }

        // Initialize weight chart
        function initWeightChart() {
            const ctx = document.getElementById('weight-chart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Weight (kg)',
                        data: [82, 79, 77, 76, 75, 75],
                        borderColor: '#4CAF50',
                        backgroundColor: 'rgba(76, 175, 80, 0.1)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            min: 70
                        }
                    }
                }
            });
        }

        // Αυτόματος υπολογισμός κατά το φόρτωμα
        window.addEventListener('load', function() {
            document.getElementById('calculate-btn').click();
            initWeightChart();
            loadProgressData();
            
            // Προσομοίωση αναζήτησης τροφίμων
            document.getElementById('food-search').addEventListener('focus', function() {
                this.placeholder = 'Try "Avocado", "Salmon" or "Cauliflower"';
            });
        });
    </script>
</body>
</html>
